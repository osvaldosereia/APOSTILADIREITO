<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Apostila Direito — AD</title>
  <meta name="description" content="Gerador de prompts jurídicos refinados (com adaptação automática por nível e matéria)." />
  <meta name="theme-color" content="#072C36" />
  <style>
    body{margin:0;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#fff;color:#111}
    .wrap{max-width:900px;margin:0 auto;padding:28px 18px 60px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:20px}
    .logo{width:42px;height:42px;border-radius:10px;background:#072C36;display:grid;place-items:center}
    .logo span{font-weight:800;color:#fff}
    h1{margin:0;font-size:22px;color:#072C36}
    .sub{color:#555;font-size:13px}
    .card{border:1px solid #ddd;border-radius:14px;padding:16px;margin-bottom:16px;box-shadow:0 2px 5px rgba(0,0,0,.05)}
    label{display:block;font-size:14px;margin:8px 0 6px;color:#072C36}
    input,select,textarea{width:100%;padding:12px;border:1px solid #ccc;border-radius:12px;font-size:16px}
    textarea{resize:vertical;min-height:320px}
    .row{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:640px){.row{grid-template-columns:1fr 1fr}}
    @media(min-width:960px){.row{grid-template-columns:1.5fr 1fr 1fr 1fr 1fr 1fr}}
    select{min-height:44px}
    .btn{border:none;border-radius:12px;padding:10px 16px;font-weight:700;cursor:pointer;width:100%}
    .btn.primary{background:#25C0BA;color:#fff}
    .actions{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
    .actions .btn{width:auto}
    @media(max-width:639px){.actions{flex-direction:column}.actions .btn{width:100%}}
    footer{margin-top:20px;font-size:12px;color:#777;text-align:center}
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo"><span>AD</span></div>
    <div>
      <h1>Apostila Direito</h1>
      <div class="sub">Gerador de prompts com adaptação automática por nível e matéria</div>
    </div>
  </header>

  <form class="card" id="form" onsubmit="return false">
    <h2>Configurações</h2>
    <label for="titulo">Título da apostila</label>
    <input id="titulo" placeholder="Ex.: Importunação Sexual — Art. 215-A (CP)" />

    <div class="row">
      <div>
        <label for="materia">Matéria</label>
        <select id="materia">
          <option value="" disabled selected>Selecione</option>
          <option>Constitucional</option>
          <option>Administrativo</option>
          <option>Tributário</option>
          <option>Financeiro</option>
          <option>Econômico</option>
          <option>Ambiental</option>
          <option>Urbanístico</option>
          <option>Agrário</option>
          <option>Eleitoral</option>
          <option>Internacional Público</option>
          <option>Direitos Humanos</option>
          <option>Direito Civil</option>
          <option>Direito do Consumidor</option>
          <option>Direito Empresarial</option>
          <option>Previdenciário</option>
          <option>Propriedade Intelectual</option>
          <option>Direito Digital</option>
          <option>Direito Médico</option>
          <option>Direito Bancário</option>
          <option>Internacional Privado</option>
          <option>Trabalho</option>
          <option>Processo do Trabalho</option>
          <option>Processo Civil</option>
          <option>Processo Penal</option>
          <option>Arbitragem e Mediação</option>
          <option>Execução Penal</option>
          <option>Criminologia</option>
          <option>Prática Forense</option>
          <option>Introdução ao Estudo do Direito</option>
          <option>Teoria Geral do Direito</option>
          <option>Filosofia do Direito</option>
          <option>Sociologia do Direito</option>
          <option>Hermenêutica Jurídica</option>
          <option>Ética Profissional e Estatuto da OAB</option>
          <option>Metodologia da Pesquisa Jurídica</option>
        </select>
      </div>
      <div>
        <label for="nivel">Nível</label>
        <select id="nivel">
          <option value="iniciante">Iniciante</option>
          <option value="intermediario" selected>Intermediário</option>
          <option value="avancado">Avançado</option>
        </select>
      </div>
      <div>
        <label for="versao">Versão</label>
        <select id="versao">
          <option value="express">Express</option>
          <option value="completa" selected>Completa</option>
          <option value="avancada">Avançada</option>
        </select>
      </div>
      <div>
        <label for="linguagem">Linguagem</label>
        <select id="linguagem">
          <option value="clara" selected>Clara</option>
          <option value="tecnica">Técnica</option>
          <option value="professor">Professor</option>
        </select>
      </div>
      <div>
        <label for="juris">Jurisprudência</label>
        <select id="juris">
          <option value="off" selected>Sem jurisprudência</option>
          <option value="resumo">Síntese descritiva (sem nº de processo)</option>
          <option value="completa">Completa (com referência quando possível)</option>
        </select>
      </div>
      <div style="display:flex;align-items:end">
        <button id="gerar" class="btn primary" type="button">Gerar prompt</button>
      </div>
    </div>
  </form>

  <div class="card">
    <h2>Prompt</h2>
    <textarea id="saida" placeholder="O prompt aparece aqui..."></textarea>
    <div class="actions">
      <button class="btn primary" id="copiar" type="button">Copiar</button>
    </div>
  </div>

  <footer>Apostila Direito • AD</footer>
</div>

<script>
const bySubject = {
  'Constitucional': `- Enfatizar fundamentos, direitos e garantias fundamentais.
- Discutir controle de constitucionalidade e remédios constitucionais.`,
  'Administrativo': `- Atos administrativos, licitações e contratos.
- Responsabilidade civil do Estado e controle da administração.`,
  'Tributário': `- Competência, espécies tributárias e princípios.
- Lançamento, crédito tributário e teses recorrentes.`,
  'Financeiro': `- Orçamento público, LOA/LDO/PPA e responsabilidade fiscal.`,
  'Econômico': `- Intervenção do Estado na economia.
- Defesa da concorrência e regulação.`,
  'Ambiental': `- Princípios do Direito Ambiental e licenciamento.
- Responsabilidade ambiental e casos práticos.`,
  'Urbanístico': `- Plano diretor e função social da cidade.
- Regularização fundiária e instrumentos urbanísticos.`,
  'Agrário': `- Propriedade rural, usucapião e reforma agrária.`,
  'Eleitoral': `- Direitos políticos, inelegibilidades, propaganda e financiamento.`,
  'Internacional Público': `- Fontes do DIP, tratados e responsabilidade internacional.`,
  'Direitos Humanos': `- Sistemas de proteção internacional.
- Controle de convencionalidade.`,
  'Direito Civil': `- Contratos, responsabilidade civil, família e sucessões.`,
  'Direito do Consumidor': `- Conceitos básicos, práticas abusivas e garantias.`,
  'Direito Empresarial': `- Empresário, sociedades, títulos de crédito, falência e recuperação.`,
  'Previdenciário': `- Benefícios previdenciários e processos administrativos/judiciais.`,
  'Propriedade Intelectual': `- Marcas, patentes e direitos autorais.`,
  'Direito Digital': `- LGPD, proteção de dados e responsabilidade de plataformas.`,
  'Direito Médico': `- Responsabilidade civil do médico e consentimento informado.`,
  'Direito Bancário': `- Contratos bancários, juros, CDC aplicado.`,
  'Internacional Privado': `- Conflito de leis, competência internacional e cooperação jurídica.`,
  'Trabalho': `- Vínculo, jornada e rescisão.
- Teletrabalho e terceirização.`,
  'Processo do Trabalho': `- Procedimento trabalhista, provas e recursos.`,
  'Processo Civil': `- Princípios, tutela provisória, saneamento e precedentes.`,
  'Processo Penal': `- Inquérito, ação penal, medidas cautelares e recursos.`,
  'Execução Penal': `- Execução da pena, direitos do preso e progressão.`,
  'Criminologia': `- Escolas criminológicas e política criminal.`,
  'Arbitragem e Mediação': `- Convenção de arbitragem e técnicas de mediação.`,
  'Prática Forense': `- Peças processuais, prazos e estratégias forenses.`,
  'Introdução ao Estudo do Direito': `- Conceito de norma, ordenamento e fontes.`,
  'Teoria Geral do Direito': `- Teoria da norma, validade e eficácia.`,
  'Filosofia do Direito': `- Correntes filosóficas (jusnaturalismo, positivismo, pós-positivismo).`,
  'Sociologia do Direito': `- Relação entre direito e sociedade.`,
  'Hermenêutica Jurídica': `- Métodos interpretativos.`,
  'Ética Profissional e Estatuto da OAB': `- Regras éticas da advocacia e processo disciplinar.`,
  'Metodologia da Pesquisa Jurídica': `- Métodos de pesquisa e normas ABNT.`,
};

const today = new Date().toISOString().slice(0,10);

function jurisRules(mode){
  if(mode==='off') return `- Não inclua jurisprudência específica. Foque em doutrina, artigos e casos práticos.`;
  if(mode==='resumo') return `- Traga apenas tendências jurisprudenciais de forma descritiva, sem nº de processo, citando fontes secundárias estáveis.`;
  if(mode==='completa') return `- Cite acórdãos somente se houver fonte estável (artigos acadêmicos, universidades, escritórios). Formato: Tribunal, Classe+Nº, Relator, Data, Tese (1–2 linhas). Se não encontrar, escreva [NÃO LOCALIZADO].`;
  return '';
}

function nivelAdapt(nivel){
  if(nivel==='iniciante') return `### Adaptação por nível (iniciante)
- Linguagem simples, sem juridiquês.
- Exemplos práticos do dia a dia.
- Analogias para facilitar a compreensão.`;
  if(nivel==='intermediario') return `### Adaptação por nível (intermediário)
- Linguagem acessível com alguns termos técnicos.
- Exemplos de peças e decisões resumidas.
- Estimular análise crítica moderada.`;
  if(nivel==='avancado') return `### Adaptação por nível (avançado)
- Linguagem técnica e acadêmica.
- Comparação de correntes doutrinárias.
- Notas de rodapé e observações críticas.`;
  return '';
}

function buildPrompt({titulo,materia,nivel,versao,linguagem,juris}){
  const espec = bySubject[materia] || '';

  let detalhe = '';
  if(versao==='express') detalhe = `### Versão EXPRESS
- Texto conciso mas consistente, com exemplos.
- Até 2 páginas.
- Mesmo curta, deve ser rica em conteúdo.`;
  if(versao==='completa') detalhe = `### Versão COMPLETA
- Estrutura didática completa: perguntas-chave, análise material e processual, doutrina, artigos acadêmicos, casos práticos e questões de concurso.`;
  if(versao==='avancada') detalhe = `### Versão AVANÇADA
- Análise crítica profunda, comparações doutrinárias e visão interdisciplinar.`;

  let estilo = '';
  if(linguagem==='clara') estilo = '- Linguagem clara, objetiva e acessível.';
  if(linguagem==='tecnica') estilo = '- Linguagem técnica e precisa.';
  if(linguagem==='professor') estilo = '- Estilo professor: didático, com exemplos e analogias.';

  return `Você é professor de **${materia}** no Brasil e deve gerar uma **APOSTILA ${versao.toUpperCase()}** sobre **${titulo}** para um estudante de nível **${nivel}**. Atualize-se até ${today} usando pesquisa na web.

### Objetivo
Entregar material claro, bem estruturado e confiável.

${detalhe}

### Estratégia de conteúdo
${estilo}
${nivelAdapt(nivel)}
- Estruture com headings, listas e quadros comparativos.
- Use fontes confiáveis: cursos, universidades, artigos acadêmicos, blogs de advogados e escritórios.
${jurisRules(juris)}
- Se houver dúvida factual, escreva [VERIFICAR] em vez de presumir.

### Estrutura sugerida
1. Introdução contextual.
2. Perguntas-chave.
3. Análise material/processual.
4. Debates doutrinários e críticos.
5. Casos práticos e exemplos reais.
6. Questões de concursos/OAB comentadas.
7. Resumo executivo com checklist.

${espec}

### Saída
Produza o texto em **Markdown puro**, bem redigido e pronto para estudo.`;
}

// UI
const out = document.getElementById('saida');

document.getElementById('gerar').addEventListener('click', ()=>{
  const data = {
    titulo: document.getElementById('titulo').value.trim(),
    materia: document.getElementById('materia').value,
    nivel: document.getElementById('nivel').value,
    versao: document.getElementById('versao').value,
    linguagem: document.getElementById('linguagem').value,
    juris: document.getElementById('juris').value
  };
  if(!data.titulo || !data.materia){ alert('Informe Título e Matéria.'); return; }
  out.value = buildPrompt(data);
  out.scrollIntoView({behavior:'smooth'});
});

document.getElementById('copiar').addEventListener('click', async ()=>{
  if(!out.value){ alert('Gere o prompt primeiro.'); return; }
  try{ await navigator.clipboard.writeText(out.value); }
  catch(e){ out.select(); document.execCommand('copy'); }
  const btn = document.getElementById('copiar');
  const old = btn.textContent; btn.textContent = 'Copiado!';
  setTimeout(()=> btn.textContent = old, 1200);
});
</script>
</body>
</html>
